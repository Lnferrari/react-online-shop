(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{70:function(e,t){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(37),s=c.n(r),i=c(4),o=Object(a.createContext)(),l=c(1),j=function(e){var t=Object(a.useState)(""),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)([]),j=Object(i.a)(s,2),u=j[0],d=j[1],b=Object(a.useState)([]),O=Object(i.a)(b,2),h=O[0],x=O[1],m=Object(a.useState)([]),p=Object(i.a)(m,2),g=p[0],f=p[1];return Object(l.jsx)(o.Provider,{value:{searchInput:n,setSearchInput:r,productList:u,setProductList:d,productInfo:h,setProductInfo:x,relatedSearches:g,setRelatedSearches:f,API_KEY:"B95646B9E14943D59764D59BAFE2BB6D"},children:e.children})},u=Object(a.createContext)(),d=function(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],r=c[1];return Object(l.jsx)(u.Provider,{value:{isToggled:n,handleToggleSideBar:function(){r(!n)}},children:e.children})},b=c(5),O=c(2),h=c.p+"static/media/logo.d7ae4900.png",x=function(){return Object(l.jsxs)(b.b,{to:"/",className:"logo",children:[Object(l.jsx)("img",{src:h,alt:"company logo"}),"mercado",Object(l.jsx)("br",{}),"libre"]})},m=c(10),p=c.n(m),g=c(14),f=c(6),v=c(13),S=c.n(v),N=function(){var e=Object(a.useContext)(o),t=e.searchInput,c=e.setSearchInput,n=e.setProductList,r=(e.relatedSearches,e.setRelatedSearches),s=e.API_KEY,i=(JSON.parse(localStorage.getItem("bestsellers")),Object(O.f)()),j=function(){var e=Object(g.a)(p.a.mark((function e(c){var a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),console.log("searching..."),""===t){e.next=11;break}return e.next=5,S()("https://api.rainforestapi.com/request?api_key=".concat(s,"&type=search&amazon_domain=amazon.com&search_term=").concat(t));case 5:return a=e.sent,e.next=8,a.data;case 8:o=e.sent,n(o.search_results),r(o.related_searches);case 11:i.push("/search/".concat(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("form",{className:"SearchBar",onSubmit:j,children:[Object(l.jsx)("input",{type:"text",value:t,onChange:function(e){c(e.target.value)},placeholder:"Search..."}),Object(l.jsx)("button",{children:Object(l.jsx)(f.c,{})})]})},_=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0];t[1];return Object(l.jsxs)("div",{className:"Cart",children:[Object(l.jsx)(f.d,{size:40}),Object(l.jsx)("span",{children:c.length})]})},I=function(){return Object(l.jsxs)("nav",{className:"Navbar",children:[Object(l.jsx)(x,{}),Object(l.jsx)(N,{}),Object(l.jsxs)("div",{className:"nav_options",children:[Object(l.jsxs)("div",{className:"navbar_option",children:[Object(l.jsx)("span",{className:"navbar_option_firstLine",children:"Hello"}),Object(l.jsx)("span",{className:"navbar_option_secondLine",children:"Sign In"})]}),Object(l.jsxs)("div",{className:"navbar_option",children:[Object(l.jsx)("span",{className:"navbar_option_firstLine",children:"Returns"}),Object(l.jsx)("span",{className:"navbar_option_secondLine",children:"& Orders"})]}),Object(l.jsx)(_,{})]})]})},y=function(){var e=Object(a.useContext)(u),t=e.isToggled,c=e.handleToggleSideBar;return Object(l.jsxs)("div",{className:"SubNavbar",children:[Object(l.jsxs)("div",{className:"burgerMenu",onClick:c,children:[t?Object(l.jsx)(f.e,{size:20}):Object(l.jsx)(f.a,{size:20}),Object(l.jsx)("span",{children:"All"})]}),Object(l.jsxs)("div",{className:"links-container",children:[Object(l.jsx)(b.b,{to:"/",className:"link",children:"Today's Deals"}),Object(l.jsx)(b.b,{to:"/",className:"link",children:"Customer Service"}),Object(l.jsx)(b.b,{to:"/",className:"link",children:"Gift Cards"}),Object(l.jsx)(b.b,{to:"/",className:"link",children:"Registry"}),Object(l.jsx)(b.b,{to:"/",className:"link",children:"Sell"})]}),Object(l.jsx)("div",{})]})},C=function(){var e=Object(a.useContext)(u).isToggled,t=(Object(a.useContext)(o).API_KEY,JSON.parse(localStorage.getItem("categories2")));return Object(l.jsxs)("div",{className:e?"SideBar active":"SideBar",children:[Object(l.jsxs)("div",{className:"SideBar_user",children:[Object(l.jsx)(f.f,{size:20}),Object(l.jsx)("span",{children:"Hello, Sign in"})]}),Object(l.jsx)("div",{className:"SideBar_categories",children:t&&t.map((function(e){return Object(l.jsx)(b.b,{to:"/".concat(e.name),className:"SideBar_category",id:e.id,children:e.name},e.id)}))})]})},T=function(){return Object(l.jsxs)("header",{children:[Object(l.jsx)(I,{}),Object(l.jsx)(y,{}),Object(l.jsx)(C,{})]})},L=function(){return Object(l.jsx)(n.a.Fragment,{children:Object(l.jsx)(T,{})})},E=c(17),R=c(38),k=Object(a.createContext)(),A=Object(a.createContext)(),P=function(e){var t=e.onClick,c=(e.wish,e.img),n=e.id,r=e.asin,s=e.title,j=e.rank,u=e.rating,d=e.total_rating,O=e.delivery,h=e.price,x=Object(a.useState)(),m=Object(i.a)(x,2),p=(m[0],m[1],Object(a.useContext)(o)),g=(p.productList,p.productInfo,p.setProductInfo,p.API_KEY,Object(a.useContext)(k));g.wishList,g.addToWishList,g.removeFromWishLIst,Object(a.useContext)(A).dispatch;return Object(l.jsxs)("div",{className:"ProductCard",asin:r,rank:j,children:[Object(l.jsx)("div",{className:"wish",id:n,onClick:t,children:Object(l.jsx)(f.b,{size:25})}),Object(l.jsxs)(b.b,{to:"/product/".concat(r),className:"LinkProductCard",children:[Object(l.jsx)("div",{className:"img-container",children:Object(l.jsx)("img",{src:c,alt:s})}),Object(l.jsxs)("div",{className:"info-container",children:[Object(l.jsx)("h3",{children:s}),Object(l.jsxs)("div",{className:"rating",children:[Object(l.jsx)(R.a,{id:r,rating:u,colors:{rear:"#bebebe",mask:"#b1310a"},size:18,noBorder:!0}),Object(l.jsxs)("span",{children:[d," ratings"]})]}),Object(l.jsxs)("div",{className:"price",children:["$",Object(l.jsx)("span",{children:h})]}),O&&Object(l.jsxs)("div",{className:"delivery-date",children:["Get it",Object(l.jsx)("span",{className:"bold",children:O})]})]})]})]})},D=(c(70),function(){JSON.parse(localStorage.getItem("categories"));var e=JSON.parse(localStorage.getItem("bestsellers")),t=Object(a.useState)([]),c=Object(i.a)(t,2),n=(c[0],c[1],Object(a.useState)([])),r=Object(i.a)(n,2);r[0],r[1];return Object(l.jsx)("section",{className:"Home",children:e.map((function(e){return Object(l.jsx)(P,{asin:e.asin,img:e.image,title:e.title,rank:e.rank,rating:e.rating,total_rating:e.ratings_total,category:e.current_category.id,price:e.price.value},e.asin)}))})}),B=function(){var e=Object(O.g)().categoryName,t=JSON.parse(localStorage.getItem("bestsellers")).map((function(e){return Object(l.jsx)(P,{asin:e.asin,img:e.image,title:e.title,rank:e.rank,rating:e.rating,total_rating:e.ratings_total,category:e.current_category.id,price:e.price.value},e.asin)}));return Object(l.jsxs)("section",{className:"Category",children:[Object(l.jsx)("h1",{children:e}),t]})},w=function(){var e=Object(O.g)().productID;return Object(l.jsxs)("section",{className:"ProductPage",children:[Object(l.jsx)("h2",{children:"Product PAGE"}),Object(l.jsx)("h3",{children:e})]})},J=function(){var e=Object(O.g)().searchedTerm,t=Object(a.useContext)(o),c=t.productList,n=(t.productInfo,t.setProductInfo,t.relatedSearches),r=(t.API_KEY,JSON.parse(localStorage.getItem("bestsellers")),c.map((function(e){return Object(l.jsx)(P,{asin:e.asin,img:e.image,title:e.title,rank:e.rank,rating:e.rating,total_rating:e.ratings_total,price:e.price.value},e.asin)}))),s=n.map((function(e){return Object(l.jsxs)("div",{className:"relatedSearch",children:[Object(l.jsx)(f.c,{}),e.query]})}));return Object(l.jsxs)("section",{className:"SearchedPage",children:[Object(l.jsxs)("h1",{children:["Results for ",Object(l.jsx)("span",{className:"searchedTerm",children:e})]}),Object(l.jsx)("div",{className:"relatedSearches",children:s}),r]})},M=function(){var e=Object(a.useContext)(u).isToggled;Object(a.useContext)(o).searchInput;return Object(l.jsx)(n.a.Fragment,{children:Object(l.jsxs)(b.a,{children:[Object(l.jsx)(L,{}),Object(l.jsx)(O.c,{children:Object(l.jsxs)("main",{className:e?"inactive":"",children:[Object(l.jsx)(O.a,{path:"/",exact:!0,component:D}),Object(l.jsx)(O.a,{path:"/search/:searchTerm",exact:!0,component:J}),Object(l.jsx)(O.a,{path:"/:categoryName",exact:!0,component:B}),Object(l.jsx)(O.a,{path:"/product/:productID",exact:!0,component:w})]})})]})})},W=function(e,t){var c=t.payload;switch(t.type){case"ADD_TO_WISHLIST":return[c].concat(Object(E.a)(e));case"REMOVE_FROM_WISHLIST":return e.filter((function(e){return e.asin!==c.asin}));case"CLEAR_WISHLIST":return[];default:return e}},F=function(e){var t=e.children,c=(null===localStorage.getItem("wishList")||JSON.parse(localStorage.getItem("wishList")),Object(a.useReducer)(W)),n=Object(i.a)(c,2),r=n[0];n[1];return Object(a.useEffect)((function(){localStorage.setItem("localWishList",JSON.stringify(r))}),[r]),Object(l.jsx)(k.Provider,{value:{wishList:r,addToWishList:function(e){return{type:"ADD_TO_WISHLIST",payload:e}},removeFromWishLIst:function(e){return{type:"REMOVE_FROM_WISHLIST",payload:e}},clearWishList:function(){return{type:"CLEAR_WISHLIST"}}},children:t})},H=c(16),q=function(e,t){var c,a=t.payload;switch(t.type){case"ADD_TO_CART":return e.find((function(e){return e.asin===a.asin}))?e.map((function(e){return e.name===a.asin?Object(H.a)(Object(H.a)({},e),{},{quantity:e.quantity+1}):e})):[].concat(Object(E.a)(e),[Object(H.a)(Object(H.a)({},a),{},{quantity:1})]);case"REMOVE_FROM_CART":return e.filter((function(e){return e.asin!==a.asin}));case"DECREMENT_QUANTITY":return 1===(null===(c=e.find((function(e){return e.asin===a.asin})))||void 0===c?void 0:c.quantity)?e.filter((function(e){return e.asin!==a.asin})):e.map((function(e){return e.asin===a.asin?Object(H.a)(Object(H.a)({},e),{},{quantity:e.quantity-1}):e}));case"CLEAR_CART":case"CHECKOUT":return[];default:return e}},z=function(e){var t=e.children,c=null===localStorage.getItem("wishList")?[]:JSON.parse(localStorage.getItem("wishList")),n=Object(a.useReducer)(q,c),r=Object(i.a)(n,2),s=r[0];r[1];return Object(a.useEffect)((function(){localStorage.setItem("localCart",JSON.stringify(s))}),[s]),Object(l.jsx)(A.Provider,{value:{cart:s,addToCart:function(e){return{type:"ADD_TO_CART",payload:e}},decrementItemQuantity:function(e){return{type:"DECREMENT_QUANTITY",payload:e}},removeFromCart:function(e){return{type:"REMOVE_FROM_CART",payload:e}},clearCart:function(){return{type:"CLEAR_CART"}},checkOut:function(){return{type:"CHECKOUT"}}},children:t})},K=(c(71),function(){return Object(l.jsx)(n.a.Fragment,{children:Object(l.jsx)(z,{children:Object(l.jsx)(j,{children:Object(l.jsx)(d,{children:Object(l.jsx)(F,{children:Object(l.jsx)(M,{})})})})})})});s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(K,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.d576c226.chunk.js.map