(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{70:function(e,t){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(38),s=c.n(r),i=c(5),o=Object(a.createContext)(),j=c(1),l=function(e){var t=Object(a.useState)(""),c=Object(i.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)([]),l=Object(i.a)(s,2),d=l[0],u=l[1],b=Object(a.useState)([]),O=Object(i.a)(b,2),h=O[0],p=O[1],x=Object(a.useState)([]),m=Object(i.a)(x,2),f=m[0],g=m[1];return Object(j.jsx)(o.Provider,{value:{searchInput:n,setSearchInput:r,productList:d,setProductList:u,productInfo:h,setProductInfo:p,relatedSearches:f,setRelatedSearches:g,API_KEY:"B95646B9E14943D59764D59BAFE2BB6D"},children:e.children})},d=Object(a.createContext)(),u=function(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],r=c[1];return Object(j.jsx)(d.Provider,{value:{isToggled:n,handleToggleSideBar:function(){r(!n)}},children:e.children})},b=c(4),O=c(3),h=c.p+"static/media/logo.d7ae4900.png",p=function(){return Object(j.jsxs)(b.b,{to:"/",className:"logo",children:[Object(j.jsx)("img",{src:h,alt:"company logo"}),"mercado",Object(j.jsx)("br",{}),"libre"]})},x=c(2),m=c.n(x),f=c(8),g=c(7),v=c(9),S=c.n(v),N=function(){var e=Object(a.useContext)(o),t=e.searchInput,c=e.setSearchInput,n=e.setProductList,r=(e.relatedSearches,e.setRelatedSearches),s=e.API_KEY,i=(JSON.parse(localStorage.getItem("bestsellers")),Object(O.f)()),l=function(){var e=Object(f.a)(m.a.mark((function e(c){var a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),console.log("searching..."),""===t){e.next=11;break}return e.next=5,S()("https://api.rainforestapi.com/request?api_key=".concat(s,"&type=search&amazon_domain=amazon.com&search_term=").concat(t));case 5:return a=e.sent,e.next=8,a.data;case 8:o=e.sent,n(o.search_results),r(o.related_searches);case 11:i.push("/search/".concat(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"SearchBar",onSubmit:l,children:[Object(j.jsx)("input",{type:"text",value:t,onChange:function(e){c(e.target.value)},placeholder:"Search..."}),Object(j.jsx)("button",{children:Object(j.jsx)(g.d,{})})]})},C=Object(a.createContext)(),_=function(){var e=Object(a.useContext)(C).cart;return Object(j.jsxs)(b.b,{to:"/basket/checkout",className:"Cart",children:[Object(j.jsx)(g.e,{size:38}),Object(j.jsx)("span",{children:e.length})]})},y=function(){return Object(j.jsxs)("nav",{className:"Navbar",children:[Object(j.jsx)(p,{}),Object(j.jsx)(N,{}),Object(j.jsxs)("div",{className:"nav_options",children:[Object(j.jsxs)("div",{className:"navbar_option",children:[Object(j.jsx)("span",{className:"navbar_option_firstLine",children:"Hello"}),Object(j.jsx)("span",{className:"navbar_option_secondLine",children:"Sign In"})]}),Object(j.jsxs)("div",{className:"navbar_option",children:[Object(j.jsx)("span",{className:"navbar_option_firstLine",children:"Returns"}),Object(j.jsx)("span",{className:"navbar_option_secondLine",children:"& Orders"})]}),Object(j.jsx)(_,{})]})]})},I=function(){var e=Object(a.useContext)(d),t=e.isToggled,c=e.handleToggleSideBar;return Object(j.jsxs)("div",{className:"SubNavbar",children:[Object(j.jsxs)("div",{className:"burgerMenu",onClick:c,children:[t?Object(j.jsx)(g.f,{size:20}):Object(j.jsx)(g.a,{size:20}),Object(j.jsx)("span",{children:"All"})]}),Object(j.jsxs)("div",{className:"links-container",children:[Object(j.jsx)(b.b,{to:"/",className:"link",children:"Today's Deals"}),Object(j.jsx)(b.b,{to:"/",className:"link",children:"Customer Service"}),Object(j.jsx)(b.b,{to:"/",className:"link",children:"Gift Cards"}),Object(j.jsx)(b.b,{to:"/",className:"link",children:"Registry"}),Object(j.jsx)(b.b,{to:"/",className:"link",children:"Sell"})]}),Object(j.jsx)("div",{})]})},k=function(){var e=Object(a.useContext)(d).isToggled,t=(Object(a.useContext)(o).API_KEY,JSON.parse(localStorage.getItem("categories2")));return Object(j.jsxs)("div",{className:e?"SideBar active":"SideBar",children:[Object(j.jsxs)("div",{className:"SideBar_user",children:[Object(j.jsx)(g.g,{size:20}),Object(j.jsx)("span",{children:"Hello, Sign in"})]}),Object(j.jsx)("div",{className:"SideBar_categories",children:t&&t.map((function(e){return Object(j.jsx)(b.b,{to:"/".concat(e.name),className:"SideBar_category",id:e.id,children:e.name},e.id)}))})]})},T=function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)(y,{}),Object(j.jsx)(I,{}),Object(j.jsx)(k,{})]})},L=function(){return Object(j.jsx)(n.a.Fragment,{children:Object(j.jsx)(T,{})})},E=c(15),R=c(22),A=Object(a.createContext)(),P=function(e){var t=e.img,c=e.asin,n=e.title,r=e.rank,s=e.rating,l=e.total_rating,d=e.delivery,u=e.price,O=Object(a.useState)(),h=Object(i.a)(O,2),p=(h[0],h[1],Object(a.useContext)(o)),x=(p.productList,p.productInfo,p.setProductInfo,Object(a.useContext)(A)),m=x.wishList,f=x.addToWishList,v=x.removeFromWishList,S=Object(a.useContext)(C),N=(S.cart,S.addToCart);return Object(j.jsxs)("div",{className:"ProductCard",asin:c,rank:r,children:[Object(j.jsx)("div",{className:"wish",children:m&&m.includes(c)?Object(j.jsx)(g.b,{onClick:function(){return v(c)},size:25}):Object(j.jsx)(g.c,{onClick:function(){return f(c)},size:25})}),Object(j.jsxs)(b.b,{to:"/product/".concat(c),className:"LinkProductCard",children:[Object(j.jsx)("div",{className:"img-container",children:Object(j.jsx)("img",{src:t,alt:n})}),Object(j.jsxs)("div",{className:"info-container",children:[Object(j.jsx)("h3",{children:n}),Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsx)(R.a,{id:c,rating:s,colors:{rear:"#bebebe",mask:"#b1310a"},size:20,noBorder:!0}),Object(j.jsxs)("span",{children:[l," ratings"]})]}),Object(j.jsxs)("div",{className:"price",children:["$",Object(j.jsx)("span",{children:u})]}),d&&Object(j.jsxs)("div",{className:"delivery-date",children:["Get it",Object(j.jsx)("span",{className:"bold",children:d})]})]})]}),Object(j.jsx)("button",{onClick:function(){return N(c)},children:"Add to Basket"})]})},w=(c(70),function(){JSON.parse(localStorage.getItem("categories"));var e=JSON.parse(localStorage.getItem("bestsellers")),t=Object(a.useState)([]),c=Object(i.a)(t,2),n=(c[0],c[1],Object(a.useState)([])),r=Object(i.a)(n,2);r[0],r[1];return Object(j.jsx)("section",{className:"Home",children:e.map((function(e){return Object(j.jsx)(P,{asin:e.asin,img:e.image,title:e.title,rank:e.rank,rating:e.rating,total_rating:e.ratings_total,category:e.current_category.id,price:e.price.value},e.asin)}))})}),B=function(){var e=Object(O.g)().categoryName,t=JSON.parse(localStorage.getItem("bestsellers")),c=Object(a.useContext)(o);c.productList,c.productInfo,c.setProductInfo;return Object(j.jsxs)("section",{className:"Category",children:[Object(j.jsxs)("h1",{children:["Category: ",e]}),t&&t.map((function(e){return Object(j.jsx)(P,{asin:e.asin,img:e.image,title:e.title,rank:e.rank,rating:e.rating,total_rating:e.ratings_total,category:e.current_category.id,price:e.price.value},e.asin)}))]})},D=function(){var e=Object(O.g)().productID,t=Object(a.useState)(),c=Object(i.a)(t,2),n=(c[0],c[1]),r=Object(a.useContext)(A),s=r.wishList,o=r.addToWishList,l=r.removeFromWishList,d=Object(a.useContext)(C),u=(d.cart,d.addToCart),b=function(){var t=Object(f.a)(m.a.mark((function t(){var c,a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={url:"https://tvb-amazon-data-scraper.p.rapidapi.com/products/".concat(e),params:{api_key:"a438be699e1c4f2b1e62ff649419355b"},headers:{"x-rapidapi-key":"9515fb6270mshf72d632d3de48a7p1c263djsnec4ad8df2195","x-rapidapi-host":"tvb-amazon-data-scraper.p.rapidapi.com"}},t.prev=1,t.next=4,S()(c);case 4:return a=t.sent,t.next=7,a.data;case 7:r=t.sent,n(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[e]),Object(j.jsxs)("section",{className:"ProductPage",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("h2",{children:"Product title"}),Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsx)(R.a,{id:1,rating:4,colors:{rear:"#bebebe",mask:"#b1310a"},size:20,noBorder:!0}),Object(j.jsxs)("span",{children:[5e3," ratings"]})]})]}),Object(j.jsxs)("div",{className:"pruduct-container",children:[Object(j.jsxs)("div",{className:"product-images",children:[Object(j.jsx)("div",{className:"main-image",children:Object(j.jsx)("img",{src:"",alt:""})}),Object(j.jsx)("div",{className:"other-images"})]}),Object(j.jsxs)("div",{className:"product-info",children:[Object(j.jsx)("div",{className:"price"}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{onClick:function(){return u(e)},children:"Add to Basket"}),s&&s.includes(e)?Object(j.jsx)("button",{children:Object(j.jsx)(g.b,{onClick:function(){return l(e)}})}):Object(j.jsx)("button",{children:Object(j.jsx)(g.c,{onClick:function(){return o(e)}})})]})]})]})]})},z=function(){var e=Object(O.g)().searchedTerm,t=Object(a.useContext)(o),c=t.productList,n=(t.productInfo,t.setProductInfo,t.relatedSearches);t.API_KEY,JSON.parse(localStorage.getItem("bestsellers"));return Object(j.jsxs)("section",{className:"SearchedPage",children:[Object(j.jsxs)("h1",{children:["Results for ",Object(j.jsx)("span",{className:"searchedTerm",children:e})]}),Object(j.jsx)("div",{className:"relatedSearches",children:n.map((function(e){return Object(j.jsxs)("div",{className:"relatedSearch",children:[Object(j.jsx)(g.d,{}),e.query]})}))}),c&&c.map((function(e){return Object(j.jsx)(P,{asin:e.asin,img:e.image,title:e.title,rank:e.rank,rating:e.rating,total_rating:e.ratings_total,price:e.price.value},e.asin)}))]})},W=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useContext)(C),s=r.cart,o=(r.addToCart,r.decrementItemQuantity,r.removeFromCart,r.clearCart,r.checkOut,function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],s.map(function(){var e=Object(f.a)(m.a.mark((function e(c){var a,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"https://tvb-amazon-data-scraper.p.rapidapi.com/products/".concat(c),params:{api_key:"a438be699e1c4f2b1e62ff649419355b"},headers:{"x-rapidapi-key":"9515fb6270mshf72d632d3de48a7p1c263djsnec4ad8df2195","x-rapidapi-host":"tvb-amazon-data-scraper.p.rapidapi.com"}},e.prev=1,e.next=4,S()(a);case 4:return r=e.sent,e.next=7,r.data;case 7:s=e.sent,t=[].concat(Object(E.a)(t),[s]),n(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){o()}),[s]);c.map((function(e){return Object(j.jsx)("div",{className:"basketProduct"})}));return Object(j.jsxs)("section",{className:"CheckOut",children:[Object(j.jsx)("h1",{children:"Shopping Cart"}),Object(j.jsxs)("span",{children:[s.length," Products"]})]})},F=function(){var e=Object(a.useContext)(d).isToggled;Object(a.useContext)(o).searchInput;return Object(j.jsx)(n.a.Fragment,{children:Object(j.jsxs)(b.a,{children:[Object(j.jsx)(L,{}),Object(j.jsx)(O.c,{children:Object(j.jsxs)("main",{className:e?"inactive":"",children:[Object(j.jsx)(O.a,{path:"/",exact:!0,component:w}),Object(j.jsx)(O.a,{path:"/search/:searchTerm",exact:!0,component:z}),Object(j.jsx)(O.a,{path:"/:categoryName",exact:!0,component:B}),Object(j.jsx)(O.a,{path:"/product/:productID",exact:!0,component:D}),Object(j.jsx)(O.a,{path:"/basket/checkout",exact:!0,component:W})]})})]})})},J=function(e,t){var c=t.payload;switch(t.type){case"ADD_TO_WISHLIST":return[c].concat(Object(E.a)(e));case"REMOVE_FROM_WISHLIST":return e.filter((function(e){return e!==c}));case"CLEAR_WISHLIST":return[];default:return e}},M=function(e){var t=e.children,c=null===localStorage.getItem("wishList")?[]:JSON.parse(localStorage.getItem("wishList")),n=Object(a.useReducer)(J,c),r=Object(i.a)(n,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){localStorage.setItem("localWishList",JSON.stringify(s))}),[s]),Object(j.jsx)(A.Provider,{value:{wishList:s,dispatch:o,addToWishList:function(e){o({type:"ADD_TO_WISHLIST",payload:e})},removeFromWishList:function(e){o({type:"REMOVE_FROM_WISHLIST",payload:e})},clearWishList:function(){o({type:"CLEAR_WISHLIST"})}},children:t})},H=c(17),q=function(e,t){var c,a=t.payload.product;switch(t.type){case"ADD_TO_CART":return e.find((function(e){return e===a}))?e.map((function(e){return e===a?Object(H.a)(Object(H.a)({},e),{},{quantity:e.quantity+1}):e})):[].concat(Object(E.a)(e),[Object(H.a)(Object(H.a)({},a),{},{quantity:1})]);case"REMOVE_FROM_CART":return e.filter((function(e){return e!==a}));case"DECREMENT_QUANTITY":return 1===(null===(c=e.find((function(e){return e===a})))||void 0===c?void 0:c.quantity)?e.filter((function(e){return e!==a})):e.map((function(e){return e===a?Object(H.a)(Object(H.a)({},e),{},{quantity:e.quantity-1}):e}));case"CLEAR_CART":case"CHECKOUT":return[];default:return e}},K=function(e){var t=e.children,c=null===localStorage.getItem("wishList")?[]:JSON.parse(localStorage.getItem("wishList")),n=Object(a.useReducer)(q,c),r=Object(i.a)(n,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){localStorage.setItem("localCart",JSON.stringify(s))}),[s]),Object(j.jsx)(C.Provider,{value:{cart:s,addToCart:function(e){o({type:"ADD_TO_CART",payload:e})},decrementItemQuantity:function(e){o({type:"DECREMENT_QUANTITY",payload:e})},removeFromCart:function(e){o({type:"REMOVE_FROM_CART",payload:e})},clearCart:function(){o({type:"CLEAR_CART"})},checkOut:function(){o({type:"CHECKOUT"})}},children:t})},Y=(c(71),function(){return Object(j.jsx)(n.a.Fragment,{children:Object(j.jsx)(K,{children:Object(j.jsx)(l,{children:Object(j.jsx)(u,{children:Object(j.jsx)(M,{children:Object(j.jsx)(F,{})})})})})})});s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(Y,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.785aecc9.chunk.js.map