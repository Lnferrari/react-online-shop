(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{83:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),r=c(26),n=c.n(r),i=c(5),o=c.n(i),j=c(11),l=c(7),d=c(10),u=c.n(d),b=Object(a.createContext)(),O=c(0),p=function(e){var t=Object(a.useState)(""),c=Object(l.a)(t,2),s=c[0],r=c[1],n=Object(a.useState)([]),i=Object(l.a)(n,2),d=i[0],p=i[1],h=Object(a.useState)([]),x=Object(l.a)(h,2),m=x[0],f=x[1],_=Object({NODE_ENV:"production",PUBLIC_URL:"/react-online-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_CATEGORIES_KEY:"eb77058579b74e68887d32426c822bd7",REACT_APP_API_CATEGORIES2_KEY:"3f7c9bf77377457988af82e345702eef",REACT_APP_MY_API_KEY:"a438be699e1c4f2b1e62ff649419355b",REACT_APP_RAPIDAPI_KEY:"9515fb6270mshf72d632d3de48a7p1c263djsnec4ad8df2195",REACT_APP_CATEGORYPRODUCTS_KEY:"584650c177mshb9c5ad3ea7c0804p18d2dcjsnaeaa28973d9a"}).REACT_APP_API_KEY_DETAILS,v="584650c177mshb9c5ad3ea7c0804p18d2dcjsnaeaa28973d9a",g=function(){var e=Object(j.a)(o.a.mark((function e(t){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={url:"https://amazon23.p.rapidapi.com/product-details",params:{asin:t,country:"US"},headers:{"x-rapidapi-key":v,"x-rapidapi-host":"amazon23.p.rapidapi.com"}},e.prev=1,e.next=4,u()(c);case 4:return a=e.sent,e.next=7,a.data.result[0];case 7:s=e.sent,console.log(s),localStorage.setItem("productPage",JSON.stringify(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(b.Provider,{value:{searchInput:s,setSearchInput:r,productList:d,setProductList:p,productInfo:m,setProductInfo:f,getProductInfo:g,MY_API_KEY:_,RAPIDAPI_KEY:"9515fb6270mshf72d632d3de48a7p1c263djsnec4ad8df2195",PRODUCTS_API_KEY:v},children:e.children})},h=Object(a.createContext)(),x=function(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),s=c[0],r=c[1];return Object(O.jsx)(h.Provider,{value:{isToggled:s,handleToggleSideBar:function(){r(!s)}},children:e.children})},m=c(2),f=c(4),_=c.p+"static/media/logo.d7ae4900.png",v=function(){return Object(O.jsxs)(m.b,{to:"/",className:"logo",children:[Object(O.jsx)("img",{src:_,alt:"company logo"}),"online",Object(O.jsx)("br",{}),"store"]})},g=c(3),C=function(){var e=Object(a.useContext)(b),t=e.searchInput,c=e.setSearchInput,s=e.setProductList,r=e.MY_API_KEY,n=e.RAPIDAPI_KEY,i=Object(f.f)(),l=function(){var e=Object(j.a)(o.a.mark((function e(c){var a,j,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),console.log("searching..."),""===t){e.next=11;break}return a={url:"https://tvb-amazon-data-scraper.p.rapidapi.com/search/".concat(t),params:{api_key:r},headers:{"x-rapidapi-key":n,"x-rapidapi-host":"tvb-amazon-data-scraper.p.rapidapi.com"}},e.next=6,u()(a);case 6:return j=e.sent,e.next=9,j.data.results;case 9:l=e.sent,s(l);case 11:i.push("/search/".concat(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("form",{className:"SearchBar",onSubmit:l,children:[Object(O.jsx)("input",{type:"text",value:t,onChange:function(e){c(e.target.value)},placeholder:"Search..."}),Object(O.jsx)("button",{children:Object(O.jsx)(g.d,{})})]})},S=Object(a.createContext)(),A=function(){var e=Object(a.useContext)(S).wishList;return Object(O.jsxs)(m.b,{to:"/myaccount/wishlist",className:"WishList",children:[Object(O.jsx)(g.b,{size:36}),Object(O.jsx)("span",{children:e.length})]})},E=Object(a.createContext)(),I=function(){var e=Object(a.useContext)(E).cart;return Object(O.jsxs)(m.b,{to:"/basket/checkout",className:"Cart",children:[Object(O.jsx)(g.e,{size:36}),Object(O.jsx)("span",{children:e.length})]})},P=function(){return Object(O.jsxs)("nav",{className:"Navbar",children:[Object(O.jsx)(v,{}),Object(O.jsx)(C,{}),Object(O.jsxs)("div",{className:"nav_options",children:[Object(O.jsxs)("div",{className:"navbar_option",children:[Object(O.jsx)("span",{className:"navbar_option_firstLine",children:"Hello"}),Object(O.jsx)("span",{className:"navbar_option_secondLine",children:"Sign In"})]}),Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:"navbar_option",children:[Object(O.jsx)("span",{className:"navbar_option_firstLine",children:"Returns"}),Object(O.jsx)("span",{className:"navbar_option_secondLine",children:"& Orders"})]}),Object(O.jsx)(I,{})]})]})},T=function(){var e=Object(a.useContext)(h),t=e.isToggled,c=e.handleToggleSideBar;return Object(O.jsxs)("div",{className:"SubNavbar",children:[Object(O.jsxs)("div",{className:"burgerMenu",onClick:c,children:[t?Object(O.jsx)(g.f,{size:20}):Object(O.jsx)(g.a,{size:20}),Object(O.jsx)("span",{children:"All"})]}),Object(O.jsxs)("div",{className:"links-container",children:[Object(O.jsx)(m.b,{to:"/",className:"link",children:"Today's Deals"}),Object(O.jsx)(m.b,{to:"/",className:"link",children:"Customer Service"}),Object(O.jsx)(m.b,{to:"/",className:"link",children:"Gift Cards"}),Object(O.jsx)(m.b,{to:"/",className:"link",children:"Registry"}),Object(O.jsx)(m.b,{to:"/",className:"link",children:"Sell"})]}),Object(O.jsx)("div",{})]})},N=function(){var e=Object(a.useContext)(h).isToggled,t=(Object(a.useContext)(b).API_KEY,JSON.parse(localStorage.getItem("categories3")));return Object(O.jsxs)("div",{className:e?"SideBar active":"SideBar",children:[Object(O.jsxs)("div",{className:"SideBar_user",children:[Object(O.jsx)(g.g,{size:20}),Object(O.jsx)("span",{children:"Hello, Sign in"})]}),Object(O.jsx)("div",{className:"SideBar_categories",children:t&&t.map((function(e){return Object(O.jsx)(m.b,{to:"/category/".concat(e.category),className:"SideBar_category",children:e.name},e.category)}))})]})},R=function(){return Object(O.jsxs)("header",{children:[Object(O.jsx)(P,{}),Object(O.jsx)(T,{}),Object(O.jsx)(N,{})]})},y=function(){return Object(O.jsx)(s.a.Fragment,{children:Object(O.jsx)(R,{})})},k=c(18),L=function(e){var t=e.img,c=e.asin,s=e.title,r=e.rating,n=e.total_reviews,i=(e.model,e.price),o=(e.bestseller,Object(a.useContext)(S)),j=o.wishList,l=o.addToWishList,d=o.removeFromWishList,u=Object(a.useContext)(E).addToCart;return Object(O.jsxs)("div",{className:"ProductCard",asin:c,children:[Object(O.jsx)("div",{className:"wish",children:j&&j.includes(c)?Object(O.jsx)(g.b,{onClick:function(){return d(c)},size:25}):Object(O.jsx)(g.c,{onClick:function(){return l(c)},size:25})}),Object(O.jsxs)(m.b,{to:"/product/".concat(c),className:"LinkProductCard",children:[Object(O.jsx)("div",{className:"img-container",children:Object(O.jsx)("img",{src:t,alt:s})}),Object(O.jsxs)("div",{className:"info-container",children:[Object(O.jsx)("h3",{children:s}),Object(O.jsxs)("div",{className:"rating",children:[Object(O.jsx)(k.a,{id:c,rating:r,colors:{rear:"#bebebe",mask:"#b1310a"},size:20,noBorder:!0}),Object(O.jsxs)("span",{children:[n," reviews"]})]}),Object(O.jsx)("div",{className:"price",children:i.discount?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"current-price",children:["$",Object(O.jsx)("span",{children:i.current_price})]}),Object(O.jsxs)("div",{className:"before-price",children:["$",Object(O.jsx)("span",{children:i.before_price})]})]}):Object(O.jsxs)(O.Fragment,{children:["$",Object(O.jsx)("span",{children:i})]})})]})]}),Object(O.jsx)("button",{onClick:function(){return u(c)},children:"Add to Basket"})]})},D=function(){JSON.parse(localStorage.getItem("categories"));var e=JSON.parse(localStorage.getItem("bestsellers"));return Object(O.jsx)("section",{className:"Home",children:e.map((function(e){return Object(O.jsx)(L,{asin:e.asin,img:e.image,title:e.title,rank:e.rank,rating:e.rating,total_rating:e.ratings_total,category:e.current_category.id,price:e.price.value},e.asin)}))})},Y=c(15),K=function(){var e=Object(f.g)().categoryName,t=(JSON.parse(localStorage.getItem("bestsellers")),Object(a.useState)([])),c=Object(l.a)(t,2),s=(c[0],c[1],Object(a.useContext)(b)),r=(s.productList,s.productInfo);s.setProductInfo,s.MY_API_KEY,s.RAPIDAPI_KEY,s.PRODUCTS_API_KEY;return Object(O.jsxs)("section",{className:"Category",children:[Object(O.jsxs)("h1",{children:["Category: ",e]}),r&&r.map((function(e){return Object(O.jsx)(L,{asin:e.product_information.ASIN,img:e.images[0],title:e.name,rating:e.average_rating,total_reviews:e.total_reviews,model:e.model,price:e.pricing.slice(1)},e.product_information.ASIN)}))]})},w=c(47),W=(c(82),function(){var e=Object(f.g)().productID,t=Object(a.useContext)(b),c=(t.productList,t.setProductList,t.productInfo,t.setProductInfo,t.getProductInfo,t.MY_API_KEY,t.RAPIDAPI_KEY,t.PRODUCTS_API_KEY,Object(a.useContext)(S)),s=c.wishList,r=c.addToWishList,n=c.removeFromWishList,i=Object(a.useContext)(E).addToCart,o=JSON.parse(localStorage.getItem("productPage"));console.log(o);var j=o[0].images.map((function(e,t){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:e,alt:"product image"})},t)})),l=Object(O.jsxs)("div",{className:"product-wrapper",children:[Object(O.jsxs)("div",{className:"product-header",children:[Object(O.jsx)("h2",{children:o[0].title}),Object(O.jsxs)("div",{className:"rating",children:[Object(O.jsx)(k.a,{id:e,rating:o[0].reviews.rating,colors:{rear:"#bebebe",mask:"#b1310a"},size:20,noBorder:!0}),Object(O.jsxs)("span",{children:[o[0].reviews.total_reviews," reviews"]})]})]}),Object(O.jsxs)("div",{className:"product-container",children:[Object(O.jsx)("div",{className:"product-images",children:Object(O.jsx)(w.Carousel,{autoPlay:!0,showStatus:!1,children:j})}),Object(O.jsxs)("div",{className:"product-info",children:[Object(O.jsxs)("div",{className:"price",children:["$ ",Object(O.jsx)("span",{children:o[0].pricing||"869"})]}),Object(O.jsx)("div",{className:"inStock",children:o[0].item_available?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"available"}),"In Stock"]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"unavailable"}),"Currently unavailable"]})}),Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsxs)("button",{className:"basket",onClick:function(){return i(e)},children:[Object(O.jsx)("div",{children:Object(O.jsx)(g.e,{size:18})}),"Add to Basket"]}),Object(O.jsx)("button",{className:"wish",children:s&&s.includes(e)?Object(O.jsx)("div",{onClick:function(){return n(e)},children:Object(O.jsx)(g.b,{size:25})}):Object(O.jsx)("div",{onClick:function(){return r(e)},children:Object(O.jsx)(g.c,{size:25})})})]}),Object(O.jsxs)("div",{className:"aboutItem",children:[Object(O.jsx)("h4",{children:"About this item"}),Object(O.jsx)("ul",{children:o[0].feature_bullets.map((function(e,t){return Object(O.jsx)("li",{children:e},t)}))})]})]})]})]});return Object(O.jsx)("section",{className:"ProductPage",children:l})}),F=function(){var e=Object(f.g)().searchedTerm,t=Object(a.useContext)(b),c=t.productList;t.API_KEY;return Object(O.jsxs)("section",{className:"SearchedPage",children:[Object(O.jsxs)("h1",{children:["Results for ",Object(O.jsx)("span",{className:"searchedTerm",children:e})]}),c&&c.map((function(e){var t=e.url.split("/")[5];return Object(O.jsx)(L,{asin:t,img:e.image,bestseller:e.is_best_seller,title:e.name,rating:e.stars,price:e.price},t)}))]})},z=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],r=Object(a.useContext)(E),n=r.cart,i=(r.addToCart,r.decrementItemQuantity,r.removeFromCart,r.clearCart,r.checkOut,Object({NODE_ENV:"production",PUBLIC_URL:"/react-online-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_CATEGORIES_KEY:"eb77058579b74e68887d32426c822bd7",REACT_APP_API_CATEGORIES2_KEY:"3f7c9bf77377457988af82e345702eef",REACT_APP_MY_API_KEY:"a438be699e1c4f2b1e62ff649419355b",REACT_APP_RAPIDAPI_KEY:"9515fb6270mshf72d632d3de48a7p1c263djsnec4ad8df2195",REACT_APP_CATEGORYPRODUCTS_KEY:"584650c177mshb9c5ad3ea7c0804p18d2dcjsnaeaa28973d9a"}).REACT_APP_API_KEY_DETAILS),d=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n.map(function(){var e=Object(j.a)(o.a.mark((function e(c){var a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"https://tvb-amazon-data-scraper.p.rapidapi.com/products/".concat(c),params:{api_key:i},headers:{"x-rapidapi-key":"9515fb6270mshf72d632d3de48a7p1c263djsnec4ad8df2195","x-rapidapi-host":"tvb-amazon-data-scraper.p.rapidapi.com"}},e.prev=1,e.next=4,u()(a);case 4:return r=e.sent,e.next=7,r.data;case 7:n=e.sent,t=[].concat(Object(Y.a)(t),[n]),s(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){d()}),[n]);c.map((function(e){return Object(O.jsx)("div",{className:"basketProduct"})}));return Object(O.jsxs)("section",{className:"CheckOut",children:[Object(O.jsx)("h1",{children:"Shopping Cart"}),Object(O.jsxs)("span",{children:[n.length," Products"]})]})},M=function(){var e=Object(a.useContext)(h).isToggled;Object(a.useContext)(b).searchInput;return Object(O.jsx)(s.a.Fragment,{children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)(y,{}),Object(O.jsx)(f.c,{children:Object(O.jsxs)("main",{className:e?"inactive":"",children:[Object(O.jsx)(f.a,{path:"/",exact:!0,component:D}),Object(O.jsx)(f.a,{path:"/search/:searchTerm",exact:!0,component:F}),Object(O.jsx)(f.a,{path:"/category/:categoryName",exact:!0,component:K}),Object(O.jsx)(f.a,{path:"/product/:productID",exact:!0,component:W}),Object(O.jsx)(f.a,{path:"/basket/checkout",exact:!0,component:z})]})})]})})},H=function(e,t){var c=t.payload;switch(t.type){case"ADD_TO_WISHLIST":return[c].concat(Object(Y.a)(e));case"REMOVE_FROM_WISHLIST":return e.filter((function(e){return e!==c}));case"CLEAR_WISHLIST":return[];default:return e}},B=function(e){var t=e.children,c=null===localStorage.getItem("localWishList")?[]:JSON.parse(localStorage.getItem("localWishList")),s=Object(a.useReducer)(H,c),r=Object(l.a)(s,2),n=r[0],i=r[1];return Object(a.useEffect)((function(){localStorage.setItem("localWishList",JSON.stringify(n))}),[n]),Object(O.jsx)(S.Provider,{value:{wishList:n,dispatch:i,addToWishList:function(e){i({type:"ADD_TO_WISHLIST",payload:e})},removeFromWishList:function(e){i({type:"REMOVE_FROM_WISHLIST",payload:e})},clearWishList:function(){i({type:"CLEAR_WISHLIST"})}},children:t})},U=c(17),J=function(e,t){var c,a=t.payload.product;switch(t.type){case"ADD_TO_CART":return e.find((function(e){return e===a}))?e.map((function(e){return e===a?Object(U.a)(Object(U.a)({},e),{},{quantity:e.quantity+1}):e})):[].concat(Object(Y.a)(e),[Object(U.a)(Object(U.a)({},a),{},{quantity:1})]);case"REMOVE_FROM_CART":return e.filter((function(e){return e!==a}));case"DECREMENT_QUANTITY":return 1===(null===(c=e.find((function(e){return e===a})))||void 0===c?void 0:c.quantity)?e.filter((function(e){return e!==a})):e.map((function(e){return e===a?Object(U.a)(Object(U.a)({},e),{},{quantity:e.quantity-1}):e}));case"CLEAR_CART":case"CHECKOUT":return[];default:return e}},G=function(e){var t=e.children,c=null===localStorage.getItem("localCart")?[]:JSON.parse(localStorage.getItem("localCart")),s=Object(a.useReducer)(J,c),r=Object(l.a)(s,2),n=r[0],i=r[1];return Object(a.useEffect)((function(){localStorage.setItem("localCart",JSON.stringify(n))}),[n]),Object(O.jsx)(E.Provider,{value:{cart:n,addToCart:function(e){i({type:"ADD_TO_CART",payload:e})},decrementItemQuantity:function(e){i({type:"DECREMENT_QUANTITY",payload:e})},removeFromCart:function(e){i({type:"REMOVE_FROM_CART",payload:e})},clearCart:function(){i({type:"CLEAR_CART"})},checkOut:function(){i({type:"CHECKOUT"})}},children:t})},q=(c(83),function(){return Object(O.jsx)(s.a.Fragment,{children:Object(O.jsx)(G,{children:Object(O.jsx)(p,{children:Object(O.jsx)(x,{children:Object(O.jsx)(B,{children:Object(O.jsx)(M,{})})})})})})});n.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.d3ded0ec.chunk.js.map